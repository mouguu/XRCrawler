<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mono no Aware | Twitter Crawler</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,400&family=Zen+Old+Mincho:wght@400;700;900&display=swap"
        rel="stylesheet">

    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'washi': '#f0f0ea',
                        'charcoal': '#2c2c2c',
                        'stone': '#7a7a7a',
                        'clay': '#8b7e74',
                        'moss': '#6e7866',
                        'rust': '#a65e4e'
                    },
                    fontFamily: {
                        'serif': ['"Cormorant Garamond"', 'serif'],
                        'display': ['"Zen Old Mincho"', 'serif'],
                    },
                    animation: {
                        'drift': 'drift 20s infinite linear',
                    },
                    keyframes: {
                        drift: {
                            '0%': { transform: 'translate(0, 0)' },
                            '50%': { transform: 'translate(10px, 15px)' },
                            '100%': { transform: 'translate(0, 0)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Global Reset & Textures */
        body {
            background-color: #f0f0ea;
            color: #2c2c2c;
            background-image: url("data:image/svg+xml,%3Csvg width='200' height='200' viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.08'/%3E%3C/svg%3E");
            overflow-x: hidden;
        }

        /* Typography */
        h1,
        h2,
        h3 {
            font-family: 'Zen Old Mincho', serif;
            font-weight: 400;
        }

        p,
        input,
        label,
        button {
            font-family: 'Cormorant Garamond', serif;
        }

        /* Utilities */
        .vertical-text {
            writing-mode: vertical-rl;
            text-orientation: mixed;
        }

        .noise-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 50;
            background: transparent;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #f0f0ea;
        }

        ::-webkit-scrollbar-thumb {
            background: #8b7e74;
            border-radius: 3px;
        }

        /* Fade In Animation Class */
        .reveal-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: all 1.2s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .reveal-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Tab Styles */
        .tab-active {
            border-bottom: 1px solid #a65e4e;
            color: #2c2c2c;
        }

        .tab-inactive {
            color: #7a7a7a;
            border-bottom: 1px solid transparent;
        }
    </style>
</head>

<body class="antialiased selection:bg-stone selection:text-washi">

    <!-- Noise Texture Overlay -->
    <div class="noise-overlay"></div>

    <!-- Header -->
    <header class="py-8 px-6 md:px-20 border-b border-stone/20">
        <div class="max-w-5xl mx-auto flex justify-between items-center">
            <div>
                <h1 class="text-3xl md:text-4xl mb-2">Mono no Aware</h1>
                <p class="text-stone text-sm uppercase tracking-widest">Twitter Archiver</p>
            </div>
            <a href="#results"
                class="text-sm uppercase tracking-widest hover:text-rust transition-colors duration-300">Logs</a>
        </div>
    </header>

    <!-- Scraper Interface -->
    <section id="scrape" class="py-16 px-6 md:px-20 max-w-5xl mx-auto">
        <div class="mb-12">
            <h2 class="text-3xl md:text-4xl mb-4">Extraction Parameters</h2>
            <div class="h-px w-24 bg-rust mb-6"></div>
            <p class="text-lg text-stone max-w-2xl">
                Select your source and configure the extraction settings.
            </p>
        </div>

        <!-- Tabs -->
        <div class="flex space-x-12 mb-12">
            <button class="tab-btn tab-active font-serif text-2xl italic pb-2 transition-all duration-300"
                data-tab="profile">Profile</button>
            <button
                class="tab-btn tab-inactive font-serif text-2xl italic pb-2 hover:text-rust transition-all duration-300"
                data-tab="thread">Thread</button>
            <button
                class="tab-btn tab-inactive font-serif text-2xl italic pb-2 hover:text-rust transition-all duration-300"
                data-tab="search">Search</button>
        </div>

        <!-- Forms Container -->
        <div>

            <!-- Profile Form -->
            <div id="profile-form" class="tab-content block space-y-12">
                <div class="relative group">
                    <label class="absolute left-0 -top-6 text-sm text-rust font-serif pointer-events-none">Username or
                        Profile URL</label>
                    <input type="text" id="profile-input"
                        class="w-full bg-transparent border-b border-stone py-4 focus:outline-none focus:border-rust transition-colors text-2xl font-serif text-charcoal"
                        placeholder="e.g. elonmusk or https://x.com/elonmusk">
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-end">
                    <div class="relative">
                        <input type="number" id="profile-limit" value="50" min="10" max="1000"
                            class="peer w-full bg-transparent border-b border-stone py-2 focus:outline-none focus:border-rust transition-colors text-xl font-serif text-charcoal">
                        <label class="absolute left-0 -top-6 text-sm text-rust font-serif">Limit (Tweets)</label>
                    </div>

                    <div class="flex flex-col space-y-4">
                        <label class="flex items-center space-x-4 cursor-pointer group select-none">
                            <div
                                class="w-6 h-6 border border-stone rounded-full flex items-center justify-center group-hover:border-rust transition-colors">
                                <div class="w-3 h-3 bg-rust rounded-full opacity-0 transition-opacity checkbox-indicator"
                                    id="ind-profile-likes"></div>
                            </div>
                            <input type="checkbox" id="profile-likes" class="hidden"
                                onchange="toggleCheck('ind-profile-likes', this.checked)">
                            <span
                                class="font-serif text-xl text-stone group-hover:text-charcoal transition-colors">Scrape
                                Likes</span>
                        </label>

                        <label class="flex items-center space-x-4 cursor-pointer group select-none">
                            <div
                                class="w-6 h-6 border border-stone rounded-full flex items-center justify-center group-hover:border-rust transition-colors">
                                <div class="w-3 h-3 bg-rust rounded-full opacity-100 transition-opacity checkbox-indicator"
                                    id="ind-profile-merge"></div>
                            </div>
                            <input type="checkbox" id="profile-merge" class="hidden" checked
                                onchange="toggleCheck('ind-profile-merge', this.checked)">
                            <span
                                class="font-serif text-xl text-stone group-hover:text-charcoal transition-colors">Merge
                                Results</span>
                        </label>

                        <label class="flex items-center space-x-4 cursor-pointer group select-none">
                            <div
                                class="w-6 h-6 border border-stone rounded-full flex items-center justify-center group-hover:border-rust transition-colors">
                                <div class="w-3 h-3 bg-rust rounded-full opacity-100 transition-opacity checkbox-indicator"
                                    id="ind-profile-delete"></div>
                            </div>
                            <input type="checkbox" id="profile-delete" class="hidden" checked
                                onchange="toggleCheck('ind-profile-delete', this.checked)">
                            <span
                                class="font-serif text-xl text-stone group-hover:text-charcoal transition-colors">Delete
                                Individual Files</span>
                        </label>

                        <label class="flex items-center gap-4 cursor-pointer group select-none">
                            <div
                                class="w-6 h-6 border border-stone rounded-full flex items-center justify-center group-hover:border-rust transition-colors">
                                <div class="w-3 h-3 bg-rust rounded-full opacity-0 transition-opacity checkbox-indicator"
                                    id="ind-clear-cache"></div>
                            </div>
                            <input type="checkbox" id="clear-cache" class="hidden"
                                onchange="toggleCheck('ind-clear-cache', this.checked)">
                            <span
                                class="font-serif text-xl text-stone group-hover:text-charcoal transition-colors">Clear
                                Cache</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Thread Form -->
            <div id="thread-form" class="tab-content hidden space-y-12">
                <div class="relative group">
                    <label class="absolute left-0 -top-6 text-sm text-rust font-serif pointer-events-none">Tweet
                        URL</label>
                    <input type="text" id="thread-input"
                        class="w-full bg-transparent border-b border-stone py-4 focus:outline-none focus:border-rust transition-colors text-2xl font-serif text-charcoal"
                        placeholder="e.g. https://x.com/username/status/123456789">
                </div>

                <div class="relative max-w-xs">
                    <input type="number" id="thread-limit" value="100" min="10" max="1000"
                        class="peer w-full bg-transparent border-b border-stone py-2 focus:outline-none focus:border-rust transition-colors text-xl font-serif text-charcoal">
                    <label class="absolute left-0 -top-6 text-sm text-rust font-serif">Max Replies</label>
                </div>
            </div>

            <!-- Search Form -->
            <div id="search-form" class="tab-content hidden space-y-12">
                <div class="relative group">
                    <label class="absolute left-0 -top-6 text-sm text-rust font-serif pointer-events-none">Search Query
                        / Hashtag</label>
                    <input type="text" id="search-input"
                        class="w-full bg-transparent border-b border-stone py-4 focus:outline-none focus:border-rust transition-colors text-2xl font-serif text-charcoal"
                        placeholder="e.g. #AI, 'SpaceX', or 'Tesla'">
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-end">
                    <div class="relative">
                        <input type="number" id="search-limit" value="50" min="10" max="500"
                            class="peer w-full bg-transparent border-b border-stone py-2 focus:outline-none focus:border-rust transition-colors text-xl font-serif text-charcoal">
                        <label class="absolute left-0 -top-6 text-sm text-rust font-serif">Limit</label>
                    </div>

                    <div class="flex flex-col space-y-4">
                        <label class="flex items-center space-x-4 cursor-pointer group select-none">
                            <div
                                class="w-6 h-6 border border-stone rounded-full flex items-center justify-center group-hover:border-rust transition-colors">
                                <div class="w-3 h-3 bg-rust rounded-full opacity-100 transition-opacity checkbox-indicator"
                                    id="ind-search-merge"></div>
                            </div>
                            <input type="checkbox" id="search-merge" class="hidden" checked
                                onchange="toggleCheck('ind-search-merge', this.checked)">
                            <span
                                class="font-serif text-xl text-stone group-hover:text-charcoal transition-colors">Merge
                                Results</span>
                        </label>

                        <label class="flex items-center space-x-4 cursor-pointer group select-none">
                            <div
                                class="w-6 h-6 border border-stone rounded-full flex items-center justify-center group-hover:border-rust transition-colors">
                                <div class="w-3 h-3 bg-rust rounded-full opacity-100 transition-opacity checkbox-indicator"
                                    id="ind-search-delete"></div>
                            </div>
                            <input type="checkbox" id="search-delete" class="hidden" checked
                                onchange="toggleCheck('ind-search-delete', this.checked)">
                            <span
                                class="font-serif text-xl text-stone group-hover:text-charcoal transition-colors">Delete
                                Individual Files</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="mt-20 flex gap-4 items-center">
                <button id="scrape-btn"
                    class="group px-10 py-4 border border-charcoal rounded-full hover:bg-charcoal hover:text-washi transition-all duration-500 uppercase tracking-widest text-sm flex items-center gap-4">
                    <span id="btn-text" class="group-hover:translate-x-1 transition-transform duration-300">Begin
                        Extraction</span>
                    <i id="btn-icon"
                        class="ph ph-arrow-right group-hover:translate-x-1 transition-transform duration-300"></i>
                    <div id="loader"
                        class="hidden w-4 h-4 border-2 border-charcoal group-hover:border-washi border-t-transparent rounded-full animate-spin">
                    </div>
                </button>

                <button id="stop-btn"
                    class="hidden px-8 py-4 border border-rust rounded-full hover:bg-rust hover:text-washi transition-all duration-500 uppercase tracking-widest text-sm text-rust">
                    Stop
                </button>
            </div>

        </div>
    </section>

    <!-- Results / Logs Section -->
    <section id="results" class="py-20 px-6 bg-charcoal text-washi min-h-[50vh] relative">
        <div class="max-w-5xl mx-auto">
            <div class="mb-12">
                <h2 class="text-4xl mb-4">Process Logs</h2>
                <p class="text-stone text-lg mb-8 font-serif">
                    Real-time extraction status and results.
                </p>
            </div>

            <div id="status-area"
                class="font-mono text-sm text-stone/80 space-y-2 mb-12 min-h-[100px] max-h-[300px] overflow-y-auto p-4 border border-stone/20 rounded bg-black/20">
                <p class="opacity-50">Waiting for command...</p>
            </div>

            <div id="result-area" class="hidden">
                <div class="h-px w-full bg-stone/30 mb-8"></div>
                <div class="flex flex-col md:flex-row justify-between items-center gap-8">
                    <div>
                        <p class="text-3xl font-serif mb-2">Extraction Complete</p>
                        <p id="result-stats" class="text-stone italic text-xl">Collected 0 fragments.</p>
                    </div>
                    <a id="download-link" href="#"
                        class="px-10 py-4 border border-washi rounded-full hover:bg-washi hover:text-charcoal transition-all duration-500 uppercase tracking-widest text-xs flex items-center gap-3">
                        <i class="ph ph-download-simple text-lg"></i>
                        Download Artifact
                    </a>
                </div>
            </div>
        </div>

        <div
            class="absolute bottom-6 left-0 w-full text-center text-stone text-xs uppercase tracking-widest opacity-30">
            Â© 2024 Mono no Aware. Impermanence is the only constant.
        </div>
    </section>

    <script src="app.js"></script>
    <script>
        // --- Enso Canvas Logic (Preserved from user's snippet) ---
        const canvas = document.getElementById('ensoCanvas');
        const ctx = canvas.getContext('2d');

        function drawEnso() {
            const w = canvas.width;
            const h = canvas.height;
            const cx = w / 2;
            const cy = h / 2;

            ctx.clearRect(0, 0, w, h);

            const radiusBase = 180;
            const segments = 200;

            ctx.beginPath();
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            ctx.strokeStyle = 'rgba(40, 40, 40, 0.85)';

            for (let b = 0; b < 15; b++) {
                ctx.beginPath();
                let opacity = Math.random() * 0.15 + 0.05;
                ctx.strokeStyle = `rgba(40, 40, 40, ${opacity})`;
                ctx.lineWidth = Math.random() * 3 + 1;

                for (let i = 0; i <= segments; i++) {
                    const progress = i / segments;
                    if (progress > 0.95 && Math.random() > 0.5) continue;

                    const theta = (i / segments) * (Math.PI * 1.90) - 0.5;
                    const shapeNoise = (Math.sin(theta * 4) * 8);
                    const bristleOffset = (Math.random() - 0.5) * 25;

                    const r = radiusBase + shapeNoise + bristleOffset;
                    const x = cx + Math.cos(theta) * r;
                    const y = cy + Math.sin(theta) * r;

                    if (i === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                }
                ctx.stroke();
            }
        }

        drawEnso();
        canvas.addEventListener('click', drawEnso);

        // --- Scroll Reveal ---
        const observerOptions = { threshold: 0.15, rootMargin: "0px" };
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);

        document.querySelectorAll('.reveal-on-scroll').forEach((el) => {
            observer.observe(el);
        });

        // --- Checkbox Helper ---
        function toggleCheck(indicatorId, isChecked) {
            const el = document.getElementById(indicatorId);
            if (isChecked) {
                el.classList.remove('opacity-0');
                el.classList.add('opacity-100');
            } else {
                el.classList.remove('opacity-100');
                el.classList.add('opacity-0');
            }
        }
    </script>
</body>

</html>